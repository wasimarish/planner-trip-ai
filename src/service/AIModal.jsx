

import { GoogleGenerativeAI, HarmCategory, HarmBlockThreshold } from "@google/generative-ai"
  
  const apiKey = import.meta.env.VITE_GEMINI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash-exp",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: `application/json`,
  };
  
  
  export  const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for Location : Las Vegas for 3 days for couple with cheap budget ,Give me a Hostel option list with HotelName ,Hotel Address , Price, Hotel image url , geo coordinates, rating, description and suggest itinerary with Place Name, Place Details, Place image url, Geo coordinates , Ticket pricing, time taken to travel to each location for 3 days with each day plan with best time to visit in JSON Format"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a detailed 3-day budget-friendly travel plan for a couple in Las Vegas, including hostel options, daily itineraries, and all the requested details in JSON format.\n\n```json\n{\n  \"tripName\": \"Las Vegas Budget Getaway for Couples\",\n  \"duration\": \"3 Days\",\n  \"budget\": \"Cheap\",\n  \"travelers\": \"Couple\",\n    \"hostelOptions\": [\n        {\n            \"hotelName\": \"Sin City Hostel\",\n            \"hotelAddress\": \"1228 S Las Vegas Blvd, Las Vegas, NV 89104\",\n            \"price\": \"Approximately $30-50 per night for a private room\",\n             \"hotelImageUrl\": \"https://example.com/sincityhostel.jpg\",\n             \"geoCoordinates\": {\n                \"latitude\": 36.1594,\n                 \"longitude\": -115.1541\n            },\n            \"rating\": 4.2,\n            \"description\": \"A lively hostel with a social atmosphere, dorms and private rooms, a common area, and often organized activities. Located near the south end of the Strip.\"\n        },\n        {\n            \"hotelName\": \"Hostel Cat\",\n             \"hotelAddress\": \"1236 S 6th St, Las Vegas, NV 89104\",\n            \"price\": \"Approximately $25-45 per night for a private room\",\n            \"hotelImageUrl\": \"https://example.com/hostelcat.jpg\",\n             \"geoCoordinates\": {\n                \"latitude\": 36.1606,\n                \"longitude\": -115.1391\n              },\n             \"rating\": 4.5,\n            \"description\": \"A smaller, more boutique hostel with a focus on a clean and comfortable stay.  Features include a chill atmosphere, good reviews and a communal kitchen. Little more out of the main strip, but good value.\"\n        },\n        {\n            \"hotelName\": \"Las Vegas Hostel\",\n            \"hotelAddress\":\"1323 S Las Vegas Blvd, Las Vegas, NV 89104\",\n            \"price\": \"Approximately $28-48 per night for a private room\",\n             \"hotelImageUrl\": \"https://example.com/lvhostel.jpg\",\n              \"geoCoordinates\": {\n                  \"latitude\": 36.1576,\n                \"longitude\": -115.1539\n               },\n            \"rating\": 4.0,\n             \"description\": \"Located a bit south of the main strip, this is a budget-friendly option with a decent rating and standard hostel amenities.\"\n        }\n    ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the Strip on a Budget\",\n        \"bestTimeToVisit\": \"Late afternoon and evening\",\n      \"activities\": [\n        {\n          \"placeName\": \"Welcome to Fabulous Las Vegas Sign\",\n          \"placeDetails\": \"An iconic photo spot to start your Vegas adventure. It's free to visit and take photos.\",\n          \"placeImageUrl\": \"https://example.com/welcome_las_vegas_sign.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0908,\n            \"longitude\": -115.1736\n          },\n            \"ticketPricing\": \"Free\",\n           \"timeToTravel\": \"10-15 minutes from most hostels via Bus/Taxi/Rideshare\"\n        },\n          {\n            \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n            \"placeDetails\": \"Free and beautiful botanical displays that change seasonally inside the Bellagio Hotel.\",\n            \"placeImageUrl\": \"https://example.com/bellagio_garden.jpg\",\n              \"geoCoordinates\": {\n                \"latitude\": 36.1126,\n                \"longitude\": -115.1746\n               },\n             \"ticketPricing\": \"Free\",\n            \"timeToTravel\": \"10 minutes via Bus from Welcome sign / 10-15 minutes Walk from most strip hotels\"\n          },\n          {\n             \"placeName\": \"Fountains of Bellagio\",\n             \"placeDetails\": \"A spectacular free water show outside the Bellagio. Shows run every 30 minutes in the afternoon and every 15 minutes in the evening.\",\n             \"placeImageUrl\": \"https://example.com/fountains_bellagio.jpg\",\n               \"geoCoordinates\": {\n                \"latitude\": 36.1128,\n                 \"longitude\": -115.1746\n                },\n            \"ticketPricing\": \"Free\",\n           \"timeToTravel\":\"Right Outside the botanical garden\"\n          },\n        {\n          \"placeName\": \"Walk the Strip\",\n          \"placeDetails\": \"Explore the many themed hotels, including the Venetian, Paris, and Caesars Palace. Admire the architecture, lights, and street performers.\",\n          \"placeImageUrl\": \"https://example.com/las_vegas_strip.jpg\",\n            \"geoCoordinates\": {\n                \"latitude\": 36.1162,\n                \"longitude\": -115.1728\n            },\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"Walking time will vary, but it's all accessible by foot along the strip\"\n        },\n        {\n            \"placeName\": \"Mirage Volcano\",\n            \"placeDetails\":\"Free Volcano show outside the Mirage Hotel which erupts with fire, sound and smoke. Shows daily in evening.\",\n            \"placeImageUrl\":\"https://example.com/mirage_volcano.jpg\",\n             \"geoCoordinates\": {\n              \"latitude\": 36.1224,\n              \"longitude\": -115.1721\n              },\n              \"ticketPricing\":\"Free\",\n            \"timeToTravel\":\"Walk 10 mins from The Venetian\"\n            }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Downtown & Fremont Street Experience\",\n      \"bestTimeToVisit\": \"Afternoon and Evening\",\n      \"activities\": [\n        {\n          \"placeName\": \"Fremont Street Experience\",\n          \"placeDetails\": \"A pedestrian mall in downtown Vegas with a large LED canopy, free light shows, street performers, and cheap eats.\",\n          \"placeImageUrl\": \"https://example.com/fremont_street.jpg\",\n           \"geoCoordinates\": {\n             \"latitude\": 36.1706,\n             \"longitude\": -115.1401\n            },\n          \"ticketPricing\": \"Free\",\n          \"timeToTravel\": \"20-30 minutes by bus from the strip\"\n        },\n          {\n            \"placeName\":\"Container Park\",\n             \"placeDetails\": \"An open-air shopping and entertainment area made from shipping containers. Quirky shops, restaurants, and a playground. Good place for photo opportunities.\",\n              \"placeImageUrl\":\"https://example.com/container_park.jpg\",\n                \"geoCoordinates\": {\n                    \"latitude\": 36.1675,\n                  \"longitude\": -115.1393\n                 },\n               \"ticketPricing\": \"Free to enter, costs for shops/food\",\n                \"timeToTravel\": \"5-10 minutes walk from Fremont street Experience\"\n            },\n        {\n          \"placeName\": \"Mob Museum\",\n          \"placeDetails\": \"If interested in history, this museum covers the history of organized crime in the US. Entrance fee applies. Optional activity depending on budget and preference\",\n          \"placeImageUrl\": \"https://example.com/mob_museum.jpg\",\n           \"geoCoordinates\": {\n             \"latitude\": 36.1694,\n             \"longitude\": -115.1433\n             },\n           \"ticketPricing\": \"Around $30 per person (optional)\",\n           \"timeToTravel\": \"5-10 minutes walk from Fremont Street or Container Park\"\n\n        },\n        {\n          \"placeName\": \"Cheap Dinner in Downtown\",\n          \"placeDetails\": \"Explore the many food options around Fremont St. and find affordable meals. Consider options outside the main Fremont Street Experience area for best prices\",\n          \"placeImageUrl\": \"https://example.com/downtown_eats.jpg\",\n             \"geoCoordinates\": {\n                \"latitude\": 36.1705,\n                \"longitude\": -115.1405\n               },\n          \"ticketPricing\":\"Varies ($10-20 per person)\",\n          \"timeToTravel\":\"Located in Fremont Downtown\"\n        },\n           {\n           \"placeName\": \"Fremont Street Light Show\",\n            \"placeDetails\": \"Experience the Viva Vision light show on the Fremont canopy in the evening. Different themes and music play throughout the evening.\",\n            \"placeImageUrl\": \"https://example.com/fremont_lightshow.jpg\",\n            \"geoCoordinates\": {\n            \"latitude\": 36.1706,\n            \"longitude\": -115.1401\n            },\n           \"ticketPricing\":\"Free\",\n          \"timeToTravel\":\"Located along Fremont street\"\n          }\n      ]\n    },\n       \"day3\": {\n      \"theme\": \"Nature Escape & Last Look\",\n         \"bestTimeToVisit\": \"Morning for hiking, late afternoon for final Strip moments\",\n      \"activities\": [\n           {\n           \"placeName\": \"Red Rock Canyon National Conservation Area\",\n            \"placeDetails\": \"A short drive from the Strip, enjoy stunning desert scenery, hiking trails, and a scenic loop drive. Entrance fees apply. (Optional activity if renting a car is possible)\",\n             \"placeImageUrl\": \"https://example.com/red_rock_canyon.jpg\",\n            \"geoCoordinates\": {\n                 \"latitude\": 36.1357,\n                \"longitude\": -115.4171\n            },\n          \"ticketPricing\": \"Approx $15-$20 per vehicle (optional)\",\n           \"timeToTravel\": \"20-30 minutes drive from strip\"\n           },\n          {\n              \"placeName\":\"Seven Magic Mountains\",\n              \"placeDetails\": \"Colorful public art installation located south of Vegas. A good photo opportunity.\",\n              \"placeImageUrl\":\"https://example.com/seven_magic_mountains.jpg\",\n               \"geoCoordinates\": {\n                 \"latitude\": 35.9609,\n                 \"longitude\": -115.2221\n                },\n              \"ticketPricing\":\"Free\",\n              \"timeToTravel\": \"20-30 minute drive from strip. Bus is possible, but takes longer\"\n\n            },\n        {\n          \"placeName\": \"High Roller Observation Wheel (Optional)\",\n          \"placeDetails\": \"Enjoy views of the Strip from the High Roller. If your budget allows, consider booking a ticket in advance for cheaper rates. Optional.\",\n          \"placeImageUrl\": \"https://example.com/high_roller.jpg\",\n          \"geoCoordinates\": {\n             \"latitude\": 36.1162,\n            \"longitude\": -115.1694\n            },\n          \"ticketPricing\": \"Around $25-$35 per person (optional)\",\n          \"timeToTravel\": \"10-20 minutes walk or bus from most hostels and from strip\"\n        },\n        {\n          \"placeName\": \"Last Stroll on the Strip & Free Attractions\",\n           \"placeDetails\": \"Revisit your favorite spots, explore free attractions missed before, or do some souvenir shopping at low-cost souvenir stores.\",\n          \"placeImageUrl\": \"https://example.com/strip_stroll.jpg\",\n             \"geoCoordinates\": {\n                 \"latitude\": 36.1162,\n                  \"longitude\": -115.1728\n             },\n          \"ticketPricing\": \"Free (souvenirs are variable)\",\n           \"timeToTravel\":\"Along the strip\"\n        },\n        {\n          \"placeName\":\"Cheap Eats before Departure\",\n           \"placeDetails\":\"Find your favourite cheap meal along the strip or nearby before heading back to hostel and prepping for departure.\",\n           \"placeImageUrl\":\"https://example.com/cheap_eats_strip.jpg\",\n           \"geoCoordinates\": {\n             \"latitude\": 36.1158,\n             \"longitude\": -115.1726\n             },\n          \"ticketPricing\":\"Variable, average $10-$20 per person\",\n           \"timeToTravel\":\"Located along the strip\"\n         }\n      ]\n    }\n  },\n  \"notes\": \"Prices and availability can vary. Please check the official websites for the most up-to-date information. Use public transport or walking where possible to save money. Consider a free MyVegas app to get freebies and coupons for restaurants and attractions and always have fun!\"\n}\n```\n**Important Notes:**\n* **Prices:** The prices for accommodations, attractions, and food are estimates. They can vary significantly based on the time of year, day of the week, and specific deals available.\n* **Transportation:** This plan assumes you'll primarily use public transportation (buses) and walking. Rideshares can be an option for convenience, but they add to the cost. If renting a car to visit Red Rock, the budget should be adjusted accordingly.\n* **Flexibility:** This is just a suggestion; feel free to tailor the itinerary to your interests and preferences.\n* **Food:** The plan assumes you'll be taking advantage of affordable food options such as fast-food chains, and cheaper diners, or you can use a kitchen at a hostel if available.\n* **Book in Advance:** Booking flights, hostels, and optional paid activities well in advance, especially during peak seasons can help you secure better rates.\n* **Image URLs:** The image URLs included are placeholders and would need to be updated with real links.\n* **Geo Coordinates:** Geo Coordinates for places are approximate and should be double checked in the maps if needed.\n\nRemember to check for specific operating hours, latest pricing, and availability at each location before your trip. Enjoy your Las Vegas getaway!\n"},
          ],
        },
      ],
    });
  